<h1>KLIC 마크업 가이드</h1>

<h2>목차</h2>

- [개요](#개요)
- [개정 이력](#개정-이력)
- [1. 공통 규칙](#1-공통-규칙)
  - [1.1. 작업자 표기](#11-작업자-표기)
  - [1.2. 네이밍](#12-네이밍)
    - [1.2.1. HTML/CSS/Javascript 파일명](#121-htmlcssjavascript-파일명)
    - [1.2.2. 이미지 파일명](#122-이미지-파일명)
    - [1.2.3. 기본 HTML 레이아웃 구조](#123-기본-html-레이아웃-구조)
    - [1.2.4. ID값 표기법](#124-id값-표기법)
    - [1.2.5. 커스텀 클래스 표기법](#125-커스텀-클래스-표기법)
- [2. HTML 코드 작성 규칙](#2-html-코드-작성-규칙)
  - [2.1. 마크업 오류 없는 HTML 파일](#21-마크업-오류-없는-html-파일)
  - [2.2. 주석 표기](#22-주석-표기)
  - [2.3. 들여쓰기](#23-들여쓰기)
  - [2.4. 기본 언어 표시](#24-기본-언어-표시)
  - [2.5. 속성 선언 순서](#25-속성-선언-순서)
  - [2.6. 특수기호 변환](#26-특수기호-변환)
- [3. CSS 코드 작성 규칙](#3-css-코드-작성-규칙)
  - [3.1. 주석 표기](#31-주석-표기)
    - [3.1.1. 특정 요소 그룹핑을 위한 주석 표기](#311-특정-요소-그룹핑을-위한-주석-표기)
  - [3.2. 의미 있는 요소들 간의 공백](#32-의미-있는-요소들-간의-공백)
  - [3.3. 중괄호/콜론/세미콜론 간의 공백](#33-중괄호콜론세미콜론-간의-공백)
  - [3.4. 줄바꿈](#34-줄바꿈)
  - [3.5. 들여쓰기](#35-들여쓰기)
  - [3.6. 마지막 속성의 세미콜론 표기](#36-마지막-속성의-세미콜론-표기)
  - [3.7. 통일된 공통 클래스 사용](#37-통일된-공통-클래스-사용)
  - [3.8. 태그 선택자 사용 지양](#38-태그-선택자-사용-지양)
  - [3.9. 속성값 축약](#39-속성값-축약)
  - [3.10. z-index 허용 선언값](#310-z-index-허용-선언값)
  - [3.11. !important 선언 사용 금지](#311-important-선언-사용-금지)
- [4. Javascript 코드 작성 규칙](#4-javascript-코드-작성-규칙)
  - [4.1. 주석 표기](#41-주석-표기)
  - [4.2. 들여쓰기](#42-들여쓰기)
  - [4.3. 따옴표 표기](#43-따옴표-표기)
  - [4.4. 줄바꿈](#44-줄바꿈)
    
---

## 개요

본 문서는 케이엘정보통신㈜의 웹 퍼블리싱 작업자가 소스 코드 작성 시에 따라야 할 통일된 규칙을 기술한다.

구축 프로젝트와 유지보수 작업 시, 작업자들 간의 일관성 있는 코드 작성과 유지보수에 투자되는 시간을 최소화하기 위한 통일된 규칙이 필요함에 따라 본 문서를 작성하게 되었으며, 웹 퍼블리싱 작업자는 본 문서의 규칙을 반드시 지켜야 한다.

본 문서가 최신의 내용으로 유지되도록 관리하는 책임은 작성담당자 및 유관부서에게 있고, 내용의 정정/개선 요구를 작성담당자에게 요청할 수 있으며, 담당자는 요청 내용을 검토하여 본 문서를 개정할 수 있다.

## 개정 이력

버전|일자|내용|작성자
--- | --- | --- | ---
1.0|2020-11-21|초안 작성|오세현

---

## 1. 공통 규칙

이 단락에서는 공통으로 해당되는 규칙을 기술한다.

### 1.1. 작업자 표기

퍼블리싱 산출물(CSS/Javascript)에 대한 최초 작성자/수정자를 표기하는 규칙은 다음과 같은 방식을 따르며, 산출물의 최상단에 표기한다.

```css
/*-------------------------------------------------
Author : sehyun oh
Create date : 2020. 12. 10.
Edit : hong gil dong, 2020. 12. 11.
-------------------------------------------------*/
```

최초 작성자명을 Author에, 최초 작성일은 Create date에 표기한다.  
다른 이가 작성한 파일을 프로젝트에 복사 후 수정이 발생한 경우 마지막 단락에 Edit를 추가, 작업자명과 날짜를 표기하도록 한다.

작업자명은 영문만 허용하며, 풀네임/이니셜 등 제한을 두지 않으나 누구나 알아볼 수 있도록 직관적으로 작성해야 한다.

산출물의 특정 부분을 수정했을 때는, 아래와 같이 **내용, 작업자명 날짜** 순서로 표기한다.

```css
.gnb { display: block; width: 100%; } /* 이러저러한 문제로 틀어지는 현상 수정, sehyun oh 201210 */
```

### 1.2. 네이밍

#### 1.2.1. HTML/CSS/Javascript 파일명

다음과 같은 퍼블리싱 산출물 파일명 표기 규칙을 준수한다.

**HTML**

```
index.html - 메인
guide.html - 서브 레이아웃 및 스타일가이드
sub.html - 스타일가이드 페이지 없이 서브 레이아웃만 있는 경우
```

**CSS**

```
basic.css - 공통 요소
fonts.css - 폰트
layout.css - 공통 레이아웃
main.css - 메인 공통 콘텐츠
main_widget.css - 템플릿 메인 위젯
main_cnt.css - 템플릿 메인 콘텐츠
con_com.css - 서브 콘텐츠 공통 요소
board.css - 게시판/로그인 폼
sub.css - 서브 레이아웃 및 서브 공통 콘텐츠
sub_cnt.css - 템플릿 서브 콘텐츠
```

**Javascript**

```
common.js - 공통 요소 (개발자가 기능 구현을 위해 넣은 코드가 대부분이고, 퍼블리싱단에서 코드 추가가 필요하면 제일 아래에 넣도록 한다.)
layout.js - 공통 레이아웃
main.js - 메인 콘텐츠
con_com.js - 서브 콘텐츠 공통 요소
board.js - 게시판/로그인 폼
sub.js - 서브 레이아웃 및 서브 콘텐츠
```

#### 1.2.2. 이미지 파일명

**서브 콘텐츠**

이미지 파일명은 **img뎁스명_번호** 표기법을 따른다. 아래는 sub0104.html 파일에 들어가는 두 장의 이미지에 대한 네이밍을 예시로 들어보았다.

```
<!-- 한 개밖에 없어도 01을 표기한다. -->
img0104_01.png
img0104_02.png
```

**그 외**

이미지 파일명은 **형태_의미_상태** 순서로 표기하며, 숫자로 시작할 수 없다.

```
btn_more.png
btn_down_on.png
btn_search_01.png
btn_search_02.png <!-- 동일한 이름의 경우 숫자로 구분해준다. -->
```


그리고 이미지 확장자는 반드시 소문자로 저장하도록 한다.

```
btn_more.PNG (X)
btn_more.png (O)
```

#### 1.2.3. 기본 HTML 레이아웃 구조

다음 그림은 기본 HTML 레이아웃을 나타낸 것이다.

![기본 HTML 레이아웃 구조](/assets/images/default_layout.png)

다음 그림은 기본 메인 템플릿 레이아웃을 나타낸 것이다.

![기본 메인 템플릿 레이아웃 구조](/assets/images/template_layout.png)

```.MC_wrap```과 ```.MC_box```는 개수에 제한이 없고, 한 개밖에 없어도 숫자 1을 표기하며, 디자인 상 ```.MC_box```를 감쌀 필요 없을 경우 ```.MC_wrap```을 생략할 수 있다. ```.MC_box```에 들어가는 각 위젯의 클래스명은 아래와 같다.

```
.main_visual - 메인 비주얼
.popup - 알림판
.m_link - 바로가기
.notice - 공지사항
.gallery - 갤러리
.meal_menu - 식단
.drawSchedule - 달력
.video - 비디오
.callBox - 연락처
```

#### 1.2.4. ID값 표기법

동일한 ID는 문서에서 한 번만 사용할 수 있으며, 레이아웃과 관련된 요소 또는 Javascript 작성(예 : 슬라이더 UI 등과 같은 경우)을 위해서만 선언하도록 한다.

```html
#header { }
```

Javascript 작성을 위해서 선언한 ID값의 경우, 아래와 같이 CSS 산출물에서 선택자로 사용을 금지한다.

```html
#popupSlider { }
```

ID값은 첫 글자를 영문 소문자로, 각 단어의 첫 글자를 대문자로 표기하는 camelCase 기법을 따른다.

```html
#total_search { } (X)
#totalSearch { } (O)
```

#### 1.2.5. 커스텀 클래스 표기법

디자인적인 이유로 클래스를 커스텀해서 사용하려는 경우, 다음과 같은 표기법을 따른다.

```html
<!-- 예 : list_st1 커스텀. type은 1부터 시작 -->
<ul class="list_st1 type1">
    <li></li>
</ul>
```

---

## 2. HTML 코드 작성 규칙

이 단락에서는 HTML5를 기준으로 HTML 코드 작성에 대한 규칙을 기술한다.

### 2.1. 마크업 오류 없는 HTML 파일

모든 HTML 파일의 최종본은 W3C Validator/웹와치 등을 이용한 마크업 검사를 통과한 상태여야 한다. 태그의 열고 닫는 부분 누락 문제, ID값 중복 선언 문제 등과 같은 기초적인 오류를 사전에 방지하는 것은 기본적으로 준수해야 하는 사항 중에 하나이다.

### 2.2. 주석 표기

HTML 주석은 아래와 같이 표기하며, 주석 기호와 내용 사이에 한 칸의 공백을 둔다.

```html
<!-- 내용 -->
```

HTML 주석의 시작/종료 주석은 아래와 같이 표기한다.

```html
<!-- header -->
<header id="header"></header>
<!-- //header -->
```

종료 주석 슬래시 기호와 내용 사이에는 공백을 두지 않는다.

### 2.3. 들여쓰기

HTML 코드에 대한 들여쓰기는 탭(Tab)키를 사용한 4칸 들여쓰기로 통일한다.

**금지**

```html
<div>
  <p></p> <!-- space bar(스페이스 바)키를 사용한 2칸 들여쓰기 -->
</div>
```

space bar(스페이스 바)키를 사용한 2칸 들여쓰기는 들여쓰기의 공백이 상대적으로 적어서, 가독성이 저하될 우려가 있다.

**허용**

```html
<div>
    <p></p> <!-- 탭(Tab)키를 사용한 4칸 들여쓰기 -->
</div>
```

### 2.4. 기본 언어 표시

웹 브라우저는 웹 페이지를 구성하는 텍스트 콘텐츠의 언어 정보를 바탕으로 텍스트 콘텐츠를 화면에 표시하거나 보조 기술로 전달하므로, 웹 페이지의 기본 언어를 정확히 정의해야 한다. **html 태그의 lang 속성에 ISO639-1에서 지정한 언어 코드를 표기해주도록 한다.** 대표적인 코드로는 국문 ko, 영문 en, 일문 ja 등이 있다.

```html
<html lang="en">
```

위와 같이 한국어 사이트임에도 영어에 해당하는 언어 코드가 표기된 것은 잘못된 사례이다.

```html
<html lang="ko">
```

반드시 작업하는 사이트의 기본 언어를 확인 후 표기하도록 한다.

### 2.5. 속성 선언 순서

HTML 태그의 속성을 선언할 때 순서는 강제하지 않으나 몇 가지 예외사항이 있다.

```html
<a href="" title="새창" target="_blank" class="btn" id="btn" style="width: auto;"></a>
```

class 속성은 태그의 필수 속성들 마지막에 선언해주고, id 속성을 제일 마지막에 선언한다. 그리고 style 속성이 불가피하게 들어갈 경우 id 속성의 다음 제일 마지막에 선언해준다. 예외사항 제외 속성의 정해진 순서는 없으나 가급적이면 추후 일괄수정하기 편하도록 순서를 지켜서 작성한다.

### 2.6. 특수기호 변환

특수기호는 Entity 코드로 변환하도록 한다. 그렇지 않으면 브라우저가 이를 시작/종료 태그나 속성으로 해석할 수 있다. 아래는 사용 빈도가 높은 특수기호 목록이다.

```
& - &amp;
· - &middot;
< - &lt;
> - &gt;
← - &larr;
↑ - &uarr;
→ - &rarr;
↓ - &darr;
```

[이곳](https://www.w3schools.com/charsets/ref_html_entities_4.asp)에서 Entity 코드를 확인할 수 있다.

---

## 3. CSS 코드 작성 규칙

이 단락에서는 CSS3를 기준으로 CSS 코드 작성에 대한 규칙을 기술한다.

### 3.1. 주석 표기

CSS 주석은 아래와 같이 표기하며, 주석 기호와 내용 사이에 한 칸의 공백을 둔다.

```html
/* 내용 */
```

#### 3.1.1. 특정 요소 그룹핑을 위한 주석 표기

특정 요소들을 그룹핑하기 위한 주석 표기 시, 아래와 같은 표기법을 따른다.

```css
/* ========================================== BODY */

#wrap { }
body { }

/* ========================================== HEADER */

#header { }

/* gnb */
#mainMenu .gnb { }

/* ========================================== FOOTER */

#footer { }
```

주석과 내용 사이에 한 칸의 공백을 두도록 한다.

공통 레이아웃의 경우 영문 대문자로 표기하며, **BODY &rarr; HEADER &rarr; FOOTER** 순서로 그룹핑하며, 서브 레이아웃은 **SNB &rarr; LOCATION &rarr; CONTENT** 순서로 그룹핑한다. 메인 요소의 경우에는 다음과 같이 마크업 순서대로 그룹핑해준다.

```css
/* ========================================== 메인 비주얼 */

.main_visual { }

/* ========================================== 알림판 */

.popup { }
```

### 3.2. 의미 있는 요소들 간의 공백

```css
#header { }
#header .logo { }
#mainMenu .gnb { }
```

예시로 ```#header```와 ```#mainMenu```를 붙여 쓰면 파악이 어려우므로, 아래와 같이 의미 있는 요소들 간에는 한 칸의 공백을 두어 파악이 쉽도록 한다.

```css
#header { }
#header .logo { }

#mainMenu .gnb { }
```

### 3.3. 중괄호/콜론/세미콜론 간의 공백

가독성을 위해 중괄호와 콜론, 세미콜론 사이에 한 칸의 공백을 두도록 한다.

**금지**

```css
.gnb {display:block;width:100%;}
```

**허용**

```css
.gnb { display: block; width: 100%; }
```

### 3.4. 줄바꿈

가독성을 위해 줄바꿈을 하지 않고 한 라인에 작성하도록 한다.

**금지**

```css
.gnb {
    display: block;
    width: 100%;
}

.gnb .depth2 {
    width: 100%;
}
```

**허용**

```css
.gnb { display: block; width: 100%; }
.gnb .depth2 { width: 100%; }
```

그리고 쉼표로 구분되는 선택자 간 공백은 줄바꿈을 해준다.

```css
.gnb,
.gnb .depth2 { }
```

### 3.5. 들여쓰기

CSS 코드를 작성할 때는 들여쓰기를 하지 않는다.

**금지**

```css
.gnb { }
  .gnb .depth2 { }
```

**허용**

```css
.gnb { }
.gnb .depth2 { }
```

### 3.6. 마지막 속성의 세미콜론 표기

다른 작업자가 이어서 작성하기에 편하도록 마지막 속성의 세미콜론을 반드시 표기한다.

```css
.gnb { display: block; width: 100%; }
```

### 3.7. 통일된 공통 클래스 사용

공통 CSS 파일에 작성된 동일한 역할을 하는 다수의 클래스 중 하나로 통일해서 사용하도록 한다.

**숨김 텍스트 기법 구현을 위한 공통 클래스**

```css
.hid, .blind, .sr-only { }
```

```.sr-only```로 통일해서 사용한다.

### 3.8. 태그 선택자 사용 지양

태그명을 바꿀 시 틀어지는 현상과 이를 바로잡는 시간을 최소화하기 위해 태그 선택자 사용을 지양하며, 어떤 태그로 변경해도 문제없게 작업하도록 한다. 단, ```li```, ```td``` 등과 같은 사용 빈도가 높은 태그는 사용할 수 있다.

**지양**

```css
div ul li a { }

input[type="text"] { } /* 기능 구현을 위해 다른 type 속성이 요구될 수 있다. */
```

**지향**

```css
.box .list li a { }

.inp { }
```

### 3.9. 속성값 축약

CSS 가독성 향상을 위해 다음과 같이 속성값을 축약한다.

**축약 전**

```css
color: #ffffff
top: 0px
margin: 2rem 2rem 2rem 2rem
padding: 2rem 3rem 2rem 3rem
```

**축약 후**

```css
color: #fff
top: 0 /* 속성값이 0일 경우 단위를 표기하지 않는다. */
margin: 2rem
padding: 2rem 3rem /* 상 우 하 좌의 속성값이 동일하면 축약한다. */
```

다음과 같이 소수점 단위에서 0이 앞에 위치하는 경우에는 가독성을 위해 0을 표기한다.

```css
font-size: .9rem (X)
font-size: 0.9rem (O)
```

### 3.10. z-index 허용 선언값

z-index 속성 선언값은 ```1, 3, 10, 999, 9999``` 등과 같은 통일되지 않은 값을 사용하지 않고, 쉬운 파악을 위해 최소값과 최대값, 증감 단위를 정한다.

최소값 1, 최대값 1000이고 5 단위로 증감하며, 예외적으로 허용되는 값은 -1과 기본값인 auto이다. 레이어 팝업처럼 어떤 요소보다도 시각적으로 제일 위에 보여야 하는 경우, 최대값부터 시작한다.

```css
.gnb { z-index: 1; }
.gnb .depth2 { z-index: 5; }
```

### 3.11. !important 선언 사용 금지

```!important``` 선언은 자연스러운 스타일 우선순위를 무시하고 가장 높은 우선 순위를 가지게 한다. 이로 인해 우선순위가 꼬여서 수정 및 유지보수 작업에 애로사항이 있을 수 있으니 절대 사용하지 않도록 하며, 스타일 우선순위 규칙에 맞게 CSS 코드를 작성하는 습관을 가진다.

단, Javascript에서 정의된 스타일은 CSS 파일보다 높은 우선 순위를 가지므로, ```!important``` 선언으로 초기화해줄 수 있다.

**참고**

[CSS 적용 우선순위](https://opentutorials.org/module/484/4149) - opentutorials.org

---

## 4. Javascript 코드 작성 규칙

이 단락에서는 ECMAScript5를 기준으로 Javascript 코드 작성에 대한 규칙을 기술한다.

### 4.1. 주석 표기

Javascript 주석은 아래와 같이 표기하며, 주석 기호와 내용 사이에 한 칸의 공백을 둔다.

```javascript
// 내용
```

특정 단락을 주석 처리하는 경우 아래와 같이 블록 주석을 사용할 수 있다.

```javascript
/* $('a').on('click', function(evt) {
    evt.preventDefault();
}); */
```

### 4.2. 들여쓰기

Javascript 코드에 대한 들여쓰기는 탭(Tab)키를 사용한 4칸 들여쓰기로 통일한다.

**금지**

```javascript
$('a').on('click', function(evt) {
  evt.preventDefault(); /* space bar(스페이스 바)키를 사용한 2칸 들여쓰기 */
});
```

space bar(스페이스 바)키를 사용한 2칸 들여쓰기는 들여쓰기의 공백이 상대적으로 적어서, 가독성이 저하될 우려가 있다.

**허용**

```javascript
$('a').on('click', function(evt) {
    evt.preventDefault(); /* 탭(Tab)키를 사용한 4칸 들여쓰기 */
});
```

### 4.3. 따옴표 표기

가독성을 위해 홑따옴표 &rarr; 쌍따옴표 순서로 표기한다.

```javascript
var anchor = $('[href="#gnb"]');
```

### 4.4. 줄바꿈

하나 이상의 변수를 선언 시 가독성을 위해 두 번째 변수부터는 var을 붙이지 않고 쉼표로 줄바꿈하도록 한다.

**금지**

```javascript
var gnb = $('#gnb');
var dep01 = $('#gnb .depth1');

var gnb = $('#gnb')
  , dep01 = $('#gnb .depth1'); /* 변수명 앞에 쉼표를 붙이지 않는다. */
```

**허용**

```javascript
var gnb = $('#gnb'),
    dep01 = $('#gnb .depth1');
```
